<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>rc_mpu: include/rc/i2c.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="strawsondesign_logo_text_small.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">rc_mpu
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('i2c_8h.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#define-members">Macros</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">i2c.h File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>A C interface for the Linux I2C driver.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &lt;stdint.h&gt;</code><br />
</div>
<p><a href="i2c_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:aaab763f09f8ba3ae6c2b68f735875dd3"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="i2c_8h.html#aaab763f09f8ba3ae6c2b68f735875dd3">I2C_MAX_BUS</a>&#160;&#160;&#160;5</td></tr>
<tr class="memdesc:aaab763f09f8ba3ae6c2b68f735875dd3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Maximum I2C bus identifier. Default is 5 for a total of 6 busses. This can be increased by the user for special cases.  <a href="#aaab763f09f8ba3ae6c2b68f735875dd3">More...</a><br /></td></tr>
<tr class="separator:aaab763f09f8ba3ae6c2b68f735875dd3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6458dbf193a0eef0470fc1b08400bfcd"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="i2c_8h.html#a6458dbf193a0eef0470fc1b08400bfcd">I2C_BUFFER_SIZE</a>&#160;&#160;&#160;128</td></tr>
<tr class="memdesc:a6458dbf193a0eef0470fc1b08400bfcd"><td class="mdescLeft">&#160;</td><td class="mdescRight">size of i2c buffer in bytes for writing to registers. Only increase if you know what you are doing.  <a href="#a6458dbf193a0eef0470fc1b08400bfcd">More...</a><br /></td></tr>
<tr class="separator:a6458dbf193a0eef0470fc1b08400bfcd"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a13bff99d5498c9075ba9eb7f895c8d8d"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="i2c_8h.html#a13bff99d5498c9075ba9eb7f895c8d8d">rc_i2c_init</a> (int bus, uint8_t devAddr)</td></tr>
<tr class="memdesc:a13bff99d5498c9075ba9eb7f895c8d8d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initializes a bus and sets it to talk to a particular device address.  <a href="#a13bff99d5498c9075ba9eb7f895c8d8d">More...</a><br /></td></tr>
<tr class="separator:a13bff99d5498c9075ba9eb7f895c8d8d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3a7aaf542ae1a744b866dc8d80bc76eb"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="i2c_8h.html#a3a7aaf542ae1a744b866dc8d80bc76eb">rc_i2c_close</a> (int bus)</td></tr>
<tr class="memdesc:a3a7aaf542ae1a744b866dc8d80bc76eb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Closes an I2C bus.  <a href="#a3a7aaf542ae1a744b866dc8d80bc76eb">More...</a><br /></td></tr>
<tr class="separator:a3a7aaf542ae1a744b866dc8d80bc76eb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a86a0268633508028f79a2f426780d6ad"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="i2c_8h.html#a86a0268633508028f79a2f426780d6ad">rc_i2c_set_device_address</a> (int bus, uint8_t devAddr)</td></tr>
<tr class="memdesc:a86a0268633508028f79a2f426780d6ad"><td class="mdescLeft">&#160;</td><td class="mdescRight">Changes the device address the bus is configured to talk to.  <a href="#a86a0268633508028f79a2f426780d6ad">More...</a><br /></td></tr>
<tr class="separator:a86a0268633508028f79a2f426780d6ad"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a35ac5d6999db8b38e716dd9779e1b7b5"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="i2c_8h.html#a35ac5d6999db8b38e716dd9779e1b7b5">rc_i2c_read_byte</a> (int bus, uint8_t regAddr, uint8_t *data)</td></tr>
<tr class="memdesc:a35ac5d6999db8b38e716dd9779e1b7b5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Reads a single byte from a device register.  <a href="#a35ac5d6999db8b38e716dd9779e1b7b5">More...</a><br /></td></tr>
<tr class="separator:a35ac5d6999db8b38e716dd9779e1b7b5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8ccddf9545f4bd7f44425d41cc48d04a"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="i2c_8h.html#a8ccddf9545f4bd7f44425d41cc48d04a">rc_i2c_read_bytes</a> (int bus, uint8_t regAddr, uint8_t length, uint8_t *data)</td></tr>
<tr class="memdesc:a8ccddf9545f4bd7f44425d41cc48d04a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Reads multiple bytes from a device register.  <a href="#a8ccddf9545f4bd7f44425d41cc48d04a">More...</a><br /></td></tr>
<tr class="separator:a8ccddf9545f4bd7f44425d41cc48d04a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3da85595b7b515f21e85a7f89977e19a"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="i2c_8h.html#a3da85595b7b515f21e85a7f89977e19a">rc_i2c_read_word</a> (int bus, uint8_t regAddr, uint16_t *data)</td></tr>
<tr class="memdesc:a3da85595b7b515f21e85a7f89977e19a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Reads a single word (16 bits) from a device register.  <a href="#a3da85595b7b515f21e85a7f89977e19a">More...</a><br /></td></tr>
<tr class="separator:a3da85595b7b515f21e85a7f89977e19a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad0d324275750f3767b749a5edae95e62"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="i2c_8h.html#ad0d324275750f3767b749a5edae95e62">rc_i2c_read_words</a> (int bus, uint8_t regAddr, uint8_t length, uint16_t *data)</td></tr>
<tr class="memdesc:ad0d324275750f3767b749a5edae95e62"><td class="mdescLeft">&#160;</td><td class="mdescRight">Reads multiple words (16 bytes each) from a device register.  <a href="#ad0d324275750f3767b749a5edae95e62">More...</a><br /></td></tr>
<tr class="separator:ad0d324275750f3767b749a5edae95e62"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af539635446623450c66c8a5c5c3a35d7"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="i2c_8h.html#af539635446623450c66c8a5c5c3a35d7">rc_i2c_write_byte</a> (int bus, uint8_t regAddr, uint8_t data)</td></tr>
<tr class="memdesc:af539635446623450c66c8a5c5c3a35d7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Writes a single byte to a specified register address.  <a href="#af539635446623450c66c8a5c5c3a35d7">More...</a><br /></td></tr>
<tr class="separator:af539635446623450c66c8a5c5c3a35d7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a885a08876c8ed1eb0db842112fa688be"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="i2c_8h.html#a885a08876c8ed1eb0db842112fa688be">rc_i2c_write_bytes</a> (int bus, uint8_t regAddr, uint8_t length, uint8_t *data)</td></tr>
<tr class="memdesc:a885a08876c8ed1eb0db842112fa688be"><td class="mdescLeft">&#160;</td><td class="mdescRight">Writes multiple bytes to a specified register address.  <a href="#a885a08876c8ed1eb0db842112fa688be">More...</a><br /></td></tr>
<tr class="separator:a885a08876c8ed1eb0db842112fa688be"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aac6d948ad325e5d4e0e8066935f05e74"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="i2c_8h.html#aac6d948ad325e5d4e0e8066935f05e74">rc_i2c_write_word</a> (int bus, uint8_t regAddr, uint16_t data)</td></tr>
<tr class="memdesc:aac6d948ad325e5d4e0e8066935f05e74"><td class="mdescLeft">&#160;</td><td class="mdescRight">Writes a single word (16 bits) to a specified register address.  <a href="#aac6d948ad325e5d4e0e8066935f05e74">More...</a><br /></td></tr>
<tr class="separator:aac6d948ad325e5d4e0e8066935f05e74"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9b397dbad4d85cb9276baf59b6fb9c3c"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="i2c_8h.html#a9b397dbad4d85cb9276baf59b6fb9c3c">rc_i2c_write_words</a> (int bus, uint8_t regAddr, uint8_t length, uint16_t *data)</td></tr>
<tr class="memdesc:a9b397dbad4d85cb9276baf59b6fb9c3c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Writes multiple words (16 bits each) to a specified register address.  <a href="#a9b397dbad4d85cb9276baf59b6fb9c3c">More...</a><br /></td></tr>
<tr class="separator:a9b397dbad4d85cb9276baf59b6fb9c3c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4cc5c0825f05fd21792419cbca42e74c"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="i2c_8h.html#a4cc5c0825f05fd21792419cbca42e74c">rc_i2c_send_bytes</a> (int bus, uint8_t length, uint8_t *data)</td></tr>
<tr class="memdesc:a4cc5c0825f05fd21792419cbca42e74c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sends exactly user-defined data without prepending a register address.  <a href="#a4cc5c0825f05fd21792419cbca42e74c">More...</a><br /></td></tr>
<tr class="separator:a4cc5c0825f05fd21792419cbca42e74c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a75bc1c065943678d28549fbdb58f042e"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="i2c_8h.html#a75bc1c065943678d28549fbdb58f042e">rc_i2c_send_byte</a> (int bus, uint8_t data)</td></tr>
<tr class="memdesc:a75bc1c065943678d28549fbdb58f042e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sends exactly user-defined data without prepending a register address.  <a href="#a75bc1c065943678d28549fbdb58f042e">More...</a><br /></td></tr>
<tr class="separator:a75bc1c065943678d28549fbdb58f042e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1808f0485c4943981c62cd8825421fbc"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="i2c_8h.html#a1808f0485c4943981c62cd8825421fbc">rc_i2c_lock_bus</a> (int bus)</td></tr>
<tr class="memdesc:a1808f0485c4943981c62cd8825421fbc"><td class="mdescLeft">&#160;</td><td class="mdescRight">Locks the bus so other threads in the process know the bus is in use.  <a href="#a1808f0485c4943981c62cd8825421fbc">More...</a><br /></td></tr>
<tr class="separator:a1808f0485c4943981c62cd8825421fbc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a770d8daa3419de17d0a48cab69a7e050"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="i2c_8h.html#a770d8daa3419de17d0a48cab69a7e050">rc_i2c_unlock_bus</a> (int bus)</td></tr>
<tr class="memdesc:a770d8daa3419de17d0a48cab69a7e050"><td class="mdescLeft">&#160;</td><td class="mdescRight">Unlocks a bus to indicate to other threads in the process that the bus is now free.  <a href="#a770d8daa3419de17d0a48cab69a7e050">More...</a><br /></td></tr>
<tr class="separator:a770d8daa3419de17d0a48cab69a7e050"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9193b779bf9a882b52e0cc0e4f19a725"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="i2c_8h.html#a9193b779bf9a882b52e0cc0e4f19a725">rc_i2c_get_lock</a> (int bus)</td></tr>
<tr class="memdesc:a9193b779bf9a882b52e0cc0e4f19a725"><td class="mdescLeft">&#160;</td><td class="mdescRight">Fetches the current lock state of the bus.  <a href="#a9193b779bf9a882b52e0cc0e4f19a725">More...</a><br /></td></tr>
<tr class="separator:a9193b779bf9a882b52e0cc0e4f19a725"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>A C interface for the Linux I2C driver. </p>
<p>Developed and tested on the BeagleBone Black but should work fine on any Linux system.</p>
<dl class="section author"><dt>Author</dt><dd>James Strawson</dd></dl>
<dl class="section date"><dt>Date</dt><dd>1/19/2018 </dd></dl>

<p class="definition">Definition in file <a class="el" href="i2c_8h_source.html">i2c.h</a>.</p>
</div><h2 class="groupheader">Macro Definition Documentation</h2>
<a id="aaab763f09f8ba3ae6c2b68f735875dd3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aaab763f09f8ba3ae6c2b68f735875dd3">&#9670;&nbsp;</a></span>I2C_MAX_BUS</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define I2C_MAX_BUS&#160;&#160;&#160;5</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Maximum I2C bus identifier. Default is 5 for a total of 6 busses. This can be increased by the user for special cases. </p>

<p class="definition">Definition at line <a class="el" href="i2c_8h_source.html#l00023">23</a> of file <a class="el" href="i2c_8h_source.html">i2c.h</a>.</p>

</div>
</div>
<a id="a6458dbf193a0eef0470fc1b08400bfcd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6458dbf193a0eef0470fc1b08400bfcd">&#9670;&nbsp;</a></span>I2C_BUFFER_SIZE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define I2C_BUFFER_SIZE&#160;&#160;&#160;128</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>size of i2c buffer in bytes for writing to registers. Only increase if you know what you are doing. </p>

<p class="definition">Definition at line <a class="el" href="i2c_8h_source.html#l00029">29</a> of file <a class="el" href="i2c_8h_source.html">i2c.h</a>.</p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="a13bff99d5498c9075ba9eb7f895c8d8d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a13bff99d5498c9075ba9eb7f895c8d8d">&#9670;&nbsp;</a></span>rc_i2c_init()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int rc_i2c_init </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>bus</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>devAddr</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initializes a bus and sets it to talk to a particular device address. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">bus</td><td>The bus </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">devAddr</td><td>The device address</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 on success or -1 on failure </dd></dl>

</div>
</div>
<a id="a3a7aaf542ae1a744b866dc8d80bc76eb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3a7aaf542ae1a744b866dc8d80bc76eb">&#9670;&nbsp;</a></span>rc_i2c_close()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int rc_i2c_close </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>bus</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Closes an I2C bus. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">bus</td><td>The bus</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 on success or -1 on failure </dd></dl>

</div>
</div>
<a id="a86a0268633508028f79a2f426780d6ad"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a86a0268633508028f79a2f426780d6ad">&#9670;&nbsp;</a></span>rc_i2c_set_device_address()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int rc_i2c_set_device_address </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>bus</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>devAddr</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Changes the device address the bus is configured to talk to. </p>
<p>Actually changing the device address in the I2C driver requires a system call and is relatively slow. This function records which device address the bus is set to and will only make the system call if the requested address is different than the set address. This makes it safe to call this function repeatedly with no performance penalty.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">bus</td><td>The bus </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">devAddr</td><td>The new device address</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>{ description_of_the_return_value } </dd></dl>

</div>
</div>
<a id="a35ac5d6999db8b38e716dd9779e1b7b5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a35ac5d6999db8b38e716dd9779e1b7b5">&#9670;&nbsp;</a></span>rc_i2c_read_byte()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int rc_i2c_read_byte </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>bus</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>regAddr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t *&#160;</td>
          <td class="paramname"><em>data</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Reads a single byte from a device register. </p>
<p>This sends the device address and register address to be read from before reading the response, works for most i2c devices.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">bus</td><td>The bus </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">regAddr</td><td>The register address </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">data</td><td>The data pointer to write response to.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 on success or -1 on failure </dd></dl>

</div>
</div>
<a id="a8ccddf9545f4bd7f44425d41cc48d04a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8ccddf9545f4bd7f44425d41cc48d04a">&#9670;&nbsp;</a></span>rc_i2c_read_bytes()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int rc_i2c_read_bytes </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>bus</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>regAddr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>length</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t *&#160;</td>
          <td class="paramname"><em>data</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Reads multiple bytes from a device register. </p>
<p>This sends the device address and register address to be read from before reading the response, works for most i2c devices.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">bus</td><td>The bus </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">regAddr</td><td>The register address </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">length</td><td>number of bytes to read </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">data</td><td>The data pointer to write response to.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 on success or -1 on failure </dd></dl>

</div>
</div>
<a id="a3da85595b7b515f21e85a7f89977e19a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3da85595b7b515f21e85a7f89977e19a">&#9670;&nbsp;</a></span>rc_i2c_read_word()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int rc_i2c_read_word </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>bus</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>regAddr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t *&#160;</td>
          <td class="paramname"><em>data</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Reads a single word (16 bits) from a device register. </p>
<p>This sends the device address and register address to be read from before reading the response, works for most i2c devices.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">bus</td><td>The bus </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">regAddr</td><td>The register address </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">data</td><td>The data pointer to write response to.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 on success or -1 on failure </dd></dl>

</div>
</div>
<a id="ad0d324275750f3767b749a5edae95e62"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad0d324275750f3767b749a5edae95e62">&#9670;&nbsp;</a></span>rc_i2c_read_words()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int rc_i2c_read_words </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>bus</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>regAddr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>length</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t *&#160;</td>
          <td class="paramname"><em>data</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Reads multiple words (16 bytes each) from a device register. </p>
<p>This sends the device address and register address to be read from before reading the response, works for most i2c devices.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">bus</td><td>The bus </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">regAddr</td><td>The register address </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">length</td><td>number of words to read </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">data</td><td>The data pointer to write response to.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 on success or -1 on failure </dd></dl>

</div>
</div>
<a id="af539635446623450c66c8a5c5c3a35d7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af539635446623450c66c8a5c5c3a35d7">&#9670;&nbsp;</a></span>rc_i2c_write_byte()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int rc_i2c_write_byte </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>bus</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>regAddr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>data</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Writes a single byte to a specified register address. </p>
<p>This sends the device address and register address followed by the actual data to be written. Works for most i2c devices.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">bus</td><td>The bus </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">regAddr</td><td>The register address </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">data</td><td>The data</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 on success or -1 on failure </dd></dl>

</div>
</div>
<a id="a885a08876c8ed1eb0db842112fa688be"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a885a08876c8ed1eb0db842112fa688be">&#9670;&nbsp;</a></span>rc_i2c_write_bytes()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int rc_i2c_write_bytes </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>bus</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>regAddr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>length</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t *&#160;</td>
          <td class="paramname"><em>data</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Writes multiple bytes to a specified register address. </p>
<p>This sends the device address and register address followed by the actual data to be written. Works for most i2c devices.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">bus</td><td>The bus </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">regAddr</td><td>The register address </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">length</td><td>The length </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">data</td><td>The data</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 on success or -1 on failure </dd></dl>

</div>
</div>
<a id="aac6d948ad325e5d4e0e8066935f05e74"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aac6d948ad325e5d4e0e8066935f05e74">&#9670;&nbsp;</a></span>rc_i2c_write_word()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int rc_i2c_write_word </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>bus</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>regAddr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>data</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Writes a single word (16 bits) to a specified register address. </p>
<p>This sends the device address and register address followed by the actual data to be written. Works for most i2c devices.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">bus</td><td>The bus </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">regAddr</td><td>The register address </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">data</td><td>The data</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 on success or -1 on failure </dd></dl>

</div>
</div>
<a id="a9b397dbad4d85cb9276baf59b6fb9c3c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9b397dbad4d85cb9276baf59b6fb9c3c">&#9670;&nbsp;</a></span>rc_i2c_write_words()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int rc_i2c_write_words </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>bus</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>regAddr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>length</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t *&#160;</td>
          <td class="paramname"><em>data</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Writes multiple words (16 bits each) to a specified register address. </p>
<p>This sends the device address and register address followed by the actual data to be written. Works for most i2c devices.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">bus</td><td>The bus </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">regAddr</td><td>The register address </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">length</td><td>Number of words to write </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">data</td><td>The data</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 on success or -1 on failure </dd></dl>

</div>
</div>
<a id="a4cc5c0825f05fd21792419cbca42e74c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4cc5c0825f05fd21792419cbca42e74c">&#9670;&nbsp;</a></span>rc_i2c_send_bytes()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int rc_i2c_send_bytes </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>bus</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>length</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t *&#160;</td>
          <td class="paramname"><em>data</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Sends exactly user-defined data without prepending a register address. </p>
<p>Instead of automatically sending a device address before the data which is typical for reading/writing registers, the rc_i2c_send_bytes function send only the data given by the data argument. This is useful for more complicated IO such as uploading firmware to a device.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">bus</td><td>The bus </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">length</td><td>Number of bytes to send </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">data</td><td>The data</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 on success or -1 on failure </dd></dl>

</div>
</div>
<a id="a75bc1c065943678d28549fbdb58f042e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a75bc1c065943678d28549fbdb58f042e">&#9670;&nbsp;</a></span>rc_i2c_send_byte()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int rc_i2c_send_byte </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>bus</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>data</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Sends exactly user-defined data without prepending a register address. </p>
<p>Instead of automatically sending a device address before the data which is typical for reading/writing registers, the rc_i2c_send_bytes function send only the data given by the data argument. This is useful for more complicated IO such as uploading firmware to a device.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">bus</td><td>The bus </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">data</td><td>The data</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 on success or -1 on failure </dd></dl>

</div>
</div>
<a id="a1808f0485c4943981c62cd8825421fbc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1808f0485c4943981c62cd8825421fbc">&#9670;&nbsp;</a></span>rc_i2c_lock_bus()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int rc_i2c_lock_bus </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>bus</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Locks the bus so other threads in the process know the bus is in use. </p>
<p>Locking a bus is similar to locking a mutex, it is a way for threads to communicate within one process when sharing a bus. This, however, is not a hard lock in the sense that it does not block and does not stop any of the other functions in this API from being called. It only serves as a flag that can be checked between threads if the user chooses to do so. This is encouraged in multithraded applications to prevent timing-sensitive i2c communication from being interrupted but is not enforced.</p>
<p>All read/write functions in this API will lock the bus during the transaction and return the lockstate to what it was at the beginning of the transaction. Ideally the user should lock the bus themselves before a sequence of transactions and unlock it afterwards.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">bus</td><td>The bus ID</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Returns the lock state (0 or 1) when this function is called, or -1 on error. </dd></dl>

</div>
</div>
<a id="a770d8daa3419de17d0a48cab69a7e050"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a770d8daa3419de17d0a48cab69a7e050">&#9670;&nbsp;</a></span>rc_i2c_unlock_bus()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int rc_i2c_unlock_bus </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>bus</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Unlocks a bus to indicate to other threads in the process that the bus is now free. </p>
<p>see rc_i2c_lock_bus for further description.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">bus</td><td>The bus ID</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Returns the lock state (0 or 1) when this function is called, or -1 on error. </dd></dl>

</div>
</div>
<a id="a9193b779bf9a882b52e0cc0e4f19a725"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9193b779bf9a882b52e0cc0e4f19a725">&#9670;&nbsp;</a></span>rc_i2c_get_lock()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int rc_i2c_get_lock </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>bus</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Fetches the current lock state of the bus. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">bus</td><td>The bus ID</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Returns 0 if unlocked, 1 if locked, or -1 on error. </dd></dl>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_d44c64559bbebec7f509842c48db8b23.html">include</a></li><li class="navelem"><a class="el" href="dir_af07623dafbcc54d4d8ee39210729a27.html">rc</a></li><li class="navelem"><a class="el" href="i2c_8h.html">i2c.h</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.13 </li>
  </ul>
</div>
</body>
</html>
